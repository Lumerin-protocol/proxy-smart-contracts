# Lumerin Hashprice Futures

Decentralized Futures Market for Bitcoin Hashrate

---

## Introduction

Lumerin Hashprice Futures is a decentralized derivatives protocol enabling participants to trade standardized contracts for future Bitcoin mining hashrate delivery. Built on EVM-compatible blockchains, it provides a trustless marketplace where miners can hedge their production and traders can gain exposure to hashrate as an asset class.

The protocol uses an automated order matching engine with a fixed price grid, collateralized margin accounts, and Chainlink-powered oracles for real-time hashprice discovery.

## Key Features

| Feature                        | Description                                                      |
| ------------------------------ | ---------------------------------------------------------------- |
| **Standardized Contracts**     | Fixed hashrate speed (TH/s) per contract unit                    |
| **Multiple Delivery Dates**    | Trade contracts expiring on configurable future dates            |
| **Margin-Based Trading**       | Collateralized positions with automated risk management          |
| **Cash + Physical Settlement** | Hybrid model supporting both delivery and cash settlement        |
| **Decentralized Oracles**      | Real-time hashprice derived from BTC price and mining difficulty |
| **Automated Liquidation**      | Margin call system prevents counterparty defaults                |

## Architecture

```
┌─────────────────────────────────────────────────────────────────────┐
│                         LUMERIN FUTURES                             │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────────────┐   │
│  │   TRADERS    │    │   MINERS     │    │  TRUSTED VALIDATOR   │   │
│  │              │◄──►│              │◄──►│                      │   │
│  │  Long/Short  │    │  Sell Hash   │    │  Monitor & Execute   │   │
│  └──────┬───────┘    └──────┬───────┘    └──────────┬───────────┘   │
│         │                   │                       │               │
│         └───────────────────┼───────────────────────┘               │
│                             ▼                                       │
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │                    FUTURES CONTRACT                          │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐   │   │
│  │  │   ORDERS    │  │  POSITIONS  │  │   MARGIN ACCOUNTS   │   │   │
│  │  │  Buy/Sell   │  │ Long/Short  │  │     Collateral      │   │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────────┘   │   │
│  └──────────────────────────┬───────────────────────────────────┘   │
│                             │                                       │
│                             ▼                                       │
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │                   HASHRATE ORACLE                            │   │
│  │  ┌─────────────────┐    ┌────────────────────────────────┐   │   │
│  │  │ BTC/USD Price   │ +  │  Mining Difficulty (H/BTC)     │   │   │
│  │  │ (Chainlink)     │    │  (Off-chain Indexer)           │   │   │
│  │  └─────────────────┘    └────────────────────────────────┘   │   │
│  │                    = Hashprice (Token/Hash)                  │   │
│  └──────────────────────────────────────────────────────────────┘   │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

## How It Works

### 1. Deposit Collateral

Participants deposit the settlement token (e.g., USDC) into the Futures contract, receiving wrapped tokens (`wUSDC`) representing their margin balance.

### 2. Place Orders

Create buy (long) or sell (short) orders specifying:

- **Price**: The hashprice per day in settlement tokens
- **Delivery Date**: When the hashrate delivery period begins
- **Quantity**: Number of contract units (+/- for direction)
- **Destination URL**: Mining endpoint for hashrate delivery (sellers)

### 3. Order Matching

Orders are matched automatically when opposing orders exist at the same price and delivery date. The matching follows a **FIFO (First-In-First-Out)** queue, ensuring fair price-time priority.

### 4. Position Management

Once matched, positions are held until either:

- **Closed Before Delivery**: User exits by placing an opposite order
- **Expiration/Delivery date**: Physical hashrate delivery to the buyer's mining pool
- **Liquidation**: Margin call triggered due to insufficient collateral

### 5. Settlement

At delivery expiration:

- If buyer has specified a mining pool, and deposited payment, and seller delivers contracted hashrate, the position is settled via physical delivery
- Otherwise, the position is settled in cash, based on the Lumerin Hashprice Oracle price at the time of settlement

## Contract Addresses

| Network          | Contract       | Address                                     |
| ---------------- | -------------- | ------------------------------------------- |
| Arbitrum Sepolia | Futures        | `{space.vars.dev_futures_address}`          |
| Arbitrum Sepolia | HashrateOracle | `{space.vars.dev_hashrate_oracle_address}`  |
| Arbitrum Mainnet | Futures        | `{space.vars.prod_futures_address}`         |
| Arbitrum Mainnet | HashrateOracle | `{space.vars.prod_hashrate_oracle_address}` |

## Documentation

| Document                                                   | Description                                       |
| ---------------------------------------------------------- | ------------------------------------------------- |
| [Contract Specifications](./02.Contract-Specifications.md) | Detailed contract parameters and mechanics        |
| [Margin System](./03.Margin-System.md)                     | Margin requirements, maintenance, and liquidation |
| [Trading Guide](./04.Trading-Guide.md)                     | How to create orders and manage positions         |
| [Delivery & Settlement](./05.Delivery-Settlement.md)       | Physical delivery and payment processes           |
| [Glossary](./06.Glossary.md)                               | Key terms and definitions                         |

## Security Considerations

- **Upgradeable**: Uses UUPS proxy pattern for bug fixes and improvements
- **Access Control**: Critical functions restricted to owner/validator roles
- **Oracle Safeguards**: Staleness checks prevent trading on outdated prices
